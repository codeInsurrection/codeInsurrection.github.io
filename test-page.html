<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>FindME Test Page</title>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let timer;
        let theTime;

        console.info ('Test page ready.');
        document.querySelector('#phloem').addEventListener('click', (e) => {
          const p = document.querySelector('#phloem-div');
          p.style.display = p.style.display === 'block' ? 'none' : 'block';
          e.target.innerText = p.style.display === 'block' ? 'Hide List' : 'Show List';
        });

        document.querySelector('#xylem').addEventListener('click', (e) => {
          const x = document.querySelectorAll('body span');
          const shown = x[2].style.display === 'inline';
          e.target.innerText = !shown ? 'Hide Items' : 'Show Items';

          x[2].style.display = shown ? 'none':'inline';
          x[5].style.visibility = shown ? 'hidden':'';
          x[5].style.position = shown ? 'absolute':'';
          x[8].style.opacity = shown ? '0':'50%';
        });

        document.querySelector('#time-div').addEventListener('click', () => {
          if (theTime) {
            clearInterval(theTime);
            theTime=null;
          } else {
            theTime = setInterval(() => {document.querySelector('#time').innerText = new Date().toLocaleTimeString();}, 5000);
          }
        });

        document.querySelector('#mutate').addEventListener('click', (e) => {
          const addNewListItem = () => {
            const li = document.createElement('LI');
            li.innerText = `Phloem ${Date.now()}`;
            li.style.color = 'forestgreen';
            //li.title = 'Advertisement';
            const ul = document.querySelector('#phloem-div ul');
            ul.appendChild(li);
          }

          if (timer) {
            e.target.innerText = 'Start adding items';
            clearInterval(timer);
            timer=null;
          } else {
            timer = setInterval(() => {addNewListItem();}, 2345);
            e.target.innerText = 'Stop adding itmes';
          }
        });

        theTime = setInterval (() => {
          const getRandomInt = (min, max) => {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min) + min); // The maximum is exclusive and the minimum is inclusive
          }
          
          document.querySelector('#ad-holder').innerHTML = '';
          document.querySelector('#time-div').innerText = new Date().toLocaleTimeString();
          const colors = ['red','green','blue','orange', 'yellow', 'cyan', 'chocolate', 'salmon', 'rebeccapurple', 'steelblue'];
          const r = getRandomInt(0, 11);
          for (let i = 0; i < r; i++) {
            const ad = document.createElement('div');
            ad.textContent = `This is pseudo advert ${i}`;
            ad.style.backgroundColor = colors[i];
            document.querySelector('#ad-holder').appendChild(ad);
          }

          
          
        }, 125);
        
      });
    </script>
    <style>
      button {cursor: pointer;}
      #ad-holder {display: none;}
      textarea {background-color: #222222; color: #E0E0E0; width: 80%; height: 20rem;}
    </style
  </head>
  <body style='font-family:sans; font-size: 2rem; margin: 0.8rem;'>
    <nav>
      <button id='phloem'>Show List</button>
      <button id='xylem'>Show Items</button>
      <button id='mutate'>Start adding items</button>
    </nav>
    <div id='time-div' style='
      position: fixed;
      font-size: 0.75em;
      top: 10px;
      right: 10px;
      font-family: monospace;
      color: limegreen;
      background-color: #202020;
      padding: 0.5rem;
      user-select: none;
      border-radius: 7px;'></div>
    <br>
    <hr>
    <div id='phloem-div' style='display: none;'>
      <ul style='list-style: none;'>
        <li>Phloem 0000000000001</li>
        <li>Phloem 0000000000002</li>
        <li>Phloem 0000000000003</li>
        <li>Phloem 0000000000004</li>
        <li>Phloem 0000000000005</li>
        <li>Phloem 0000000000006</li>
        <li>Phloem 0000000000007</li>
        <li>Phloem 0000000000008</li>
        <li>Phloem 0000000000009</li>
        <li>Phloem 0000000000010</li>
      </ul>

    </div>
    <br>
    <span>1. Xylem is 1.0</span>&nbsp<span>2. Xylem</span>&nbsp<span style='display:none;'>3. Xylem</span>&nbsp<span>4. Xylem</span>&nbsp<span>5. Xylem</span>&nbsp<span style='visibility: hidden; position:absolute;'>6. Xylem</span>&nbsp<span>7. Xylem</span>&nbsp<span>8. Xylem</span>&nbsp<span style='opacity: 0;'>9. Xylem</span>
    <div>
      One, two, three, four, five, siz, seven, eight, nine, ten<br>
      scored, Red, redder, rED, ReD, RED, red, adored, stored, cored, red-rum, Redrum, murdered.
    </div>
    <div>
      <span><b>r</b></span><span>ed</span><br><span><b>g</b></span><span>reen</span><br><span><b>b</b></span><span>lue</span><br><span><b>y</b></span><span>ellow</span>
    </div>

    <p>Single paragraph, single tag <u>test</u>. This is a <u>test</u> for <u>test</u>Class, not class<u>Test</u> or <u>test</u><u>Test</u> but just <u>test</u>.</p>
    <div>
      Here is some text in a div for a test of a testClass<br>
      Here is a longer split tag test.
      <span>The quick brown fox <b>jumped</b> <i>over</i> the <span>l<span>az<em>y</em></span></span> <code><kbd><span style='text-transform: uppercase;'><b>d</b></span><i>o</i>g</kbd></code>
      <u><b> tes</b><em>t</em></u> class or <u><b>tes</b><em>t</em></u>Class?<br>
      <i><u>test</u>Class <u><em>te</em>s<b>t</b></u>Cl<span>ass</span></i><br>
    </div>
      <div id='ad-holder'></div>
    <ul>
      <li>Empire State Building</li>
      <li>A test</li>
      <li>Another TEST</li>
      <li>And another Test.</li>
      <li>A spanned <span>test</span></li>
      <li>Another test of some mixed word combinations testTest, testCase, caseTest, test case</li>
      <li>Need to establish a word boundary at the end of a tag as in the above which ends with case but doesn't flag up. This is a case cased caser test cases</li>
      <li>Some tagged tests <b>testCa</b>se <span>te<i>st</i></span>Case</li>
      <li>Test for Bug #84 where we think a line ending with the same character as the next begins with causes a problem</li>
      <li>Mitochondrial DNA is primarily inherited from the mother. These 2 lines do not exhibit bug 84. See Summary below ...</li>
    </ul>
    <p>This is paragraph one</p><p>This is paragraph two</p><p>onto paragraph 3</p> 
    <div class="ssrcss-1auv9ys-GridArea e1pjuzay0" style='background-color: silver;
    border-radius: 4px;
    border: 1px solid rgba(0, 0, 0, 0.2);
    font-size: 1.2rem;
    font-family: sans-serif;
    color: navy;'><div id="summaryPoints" class="ssrcss-1i8nrzk-SummaryPointsWrapper ezidyz80"><h2 type="section-heading" class="ssrcss-ad2rmd-Heading e10rt3ze0">Summary</h2><div data-testid="test-election-component-editorial-text" class="ssrcss-d58iud-EditorialTextWrapper edl49zf1"><div spacing="4" class="ssrcss-1j1rzn0-Stack e1y4nx260"><div class="ssrcss-1o5p6v2-RichTextContainer e5tfeyi1"><div class="ssrcss-h5qd1q-ListContainer e5tfeyi0"><ul role="list"><li><span class="ssrcss-1q0x1qg-Paragraph e1jhz7w10">Yostin Mosquera, 35, <a href="https://www.bbc.co.uk/news/live/cy9xr81vq3zt?post=asset%3A19aff339-3aa8-4fae-a95b-fff4e5aa4782#post" class="ssrcss-f6h2dj-InlineLink e1kn3p7n0">is found guilty</a> of the murders of Paul Longworth and Albert Alfonso and dumping their remains in suitcases</span></li><li><p class="ssrcss-1q0x1qg-Paragraph e1jhz7w10"><i class="ssrcss-xbdn93-ItalicText e5tfeyi2"><b class="ssrcss-1xjjfut-BoldText e5tfeyi3">Warning: This page contains distressing details</b></i></p></li><li><p class="ssrcss-1q0x1qg-Paragraph e1jhz7w10">Mosquera, a Colombian national, had denied murdering the pair on 8 July last year at their flat in London</p></li><li><p class="ssrcss-1q0x1qg-Paragraph e1jhz7w10">Woolwich Crown Court heard he <a href="https://www.bbc.co.uk/news/live/cy9xr81vq3zt?post=asset%3A607bd7a0-5145-4dc5-a1e3-134c38987384#post" class="ssrcss-f6h2dj-InlineLink e1kn3p7n0">took some of the men's remains to Bristol</a> in two suitcases where he tried to dispose of them at Clifton Suspension Bridge </p></li><li><p class="ssrcss-1q0x1qg-Paragraph e1jhz7w10">The trial's judge orders a psychiatric report on Mosquera and says <a href="https://www.bbc.co.uk/news/live/cy9xr81vq3zt?post=asset%3Ab22ae151-b483-4dbc-b74f-3c1ce3b7f612#post" class="ssrcss-f6h2dj-InlineLink e1kn3p7n0">he will be sentenced on 24 October</a></p></li><li><p class="ssrcss-1q0x1qg-Paragraph e1jhz7w10"><i class="ssrcss-xbdn93-ItalicText e5tfeyi2">Listen to our podcast on this case - </i><a href="https://www.bbc.co.uk/sounds/series/p0lr1smt" class="ssrcss-f6h2dj-InlineLink e1kn3p7n0"><i class="ssrcss-xbdn93-ItalicText e5tfeyi2">In Court: Bodies in the Suitcases on BBC Sounds</i></a></p></li></ul></div></div></div></div></div></div>
    <div><h3>Level 3 heading</h3><p>Followed by a paragraph</p></div>
    <div><h3>Level 3 heading</h3><p>Great paragraph afterwards</p></div>
    <div><p>Second line of paragraph test</p></div>
    <div><p>3rd line of paragraph test</p></div>
    <div><div>Div heading</div><p>Grand words follow</p></div>
    <div><div><b>Another div heading</b></div><span>going to follow with a span</span><p>Now a paragraph with a n-n join</p></div>
    <div>
      This is a test of whether <code>var <span>testCase</span> = <span>test</span>.<span>toLowerCase()</span></code> gets picked up ok.
    </div>
    <p>
      Finally a longer paragraph that has some instances of our word to look for. Sometimes on its own and sometimes as part of a longer word
      There are also some line breaks introduced. So lets do some testing for presence of the word test. It's always a good idea when doing this type of
      thing to make sure you add lots of different cases. We could Test for the smartest cookie or retest an already completed test. Sometimes we should
      start a sentence with our word. Test this, they said. Sometimes we should end with the word. Just complete the test. Or alternatively we
      could bundle it with some punctuation, no one likes a suprise after all. Damn it, I hate a test! Is this even a test? TEST TESTing TEST
      So some other ideas: tes tee tan and tsetse are not to be highlighted as part of this test. TeSt is ok, sometimes, test.indexOf, test = 1, test>andy, test[1] or test{a: 1, test: 'test-one', tested: true} or maybe let test;
      There should be 21 instances in this paragraph alone. Te
    </p>
    <p>st across two p tags. The cost of living is increasing. It now costs 100's of GBP to buy the simplest stuff. I paid over Â£100 for a test yestesterday. </p>
    <pre style='background-color: black; color: gainsboro; font-size: 12px; padding: 30px 70px 20px 0; border-radius: 8px; width: fit-content;'>
      /* An example */
      const test = (arrays) => {
        console.info (`There are ${arrays.length} test arrays.`);
        let total = 0;
        arrays.forEach(a => {
          total += a.length;
        });

        return total;
      }
      </pre>
      <ul style='list-style:none;direction: ltr;'>
        <li style='display: inline;'>
          <a href="/wiki/Category:Graduates_of_the_Royal_Military_College,_Sandhurst" title="Category:Graduates of the Royal Military College, Sandhurst">Graduates of the Royal Military College, Sandhurst</a>
        </li>
        <li style='display: none;'>
          <a href="/wiki/Category:Graduates_of_the_Royal_Military_College,_Sandhurst" title="Hidden:Graduates of the Royal Military College, Sandhurst">Hidden Graduates of the Royal Military College, Sandhurst</a>
        </li>
        <li style='display: inline; border-left: 1px solid silver; padding-left: 5px;'>
          <a href="#" title="Category:Graduates of the Royal Naval College, Sandhurst (part 2)">Graduates of the Royal Naval College, Dartmouth</a>
        </li>
      </ul>
      <p>Some more text here to see if single characters followed by a period will be detected as whole word only instances. If not then how to fix it becomes an issue that needs to be added to the list of bugs!
        So, lets try there was 1, 2 and then 3 bottles on the wall. Then there was 1. Later there were 123. All of which seemsed to be ok.
      </p>
      1. 2. 321.
      <br>
      <p>Below is a textarea which may pose a problem to highlighting.</p>
      <b>TEXTAREA</b><br>
      <textarea>
        /* This is a text area with some JavaScript */
        const bigArray = [];
        bigArray.forEach (e => {
          console.info (`Testing array entry ${e.index}`);
          const result = this.#getResult (e);
          newArray.push (result);
        }

        console.info (`There are ${newArray.length} results.`, newArray);
      </textarea>
      <div>
        <h3>Text here is for testing TTS readback and highlighting</h3>
        <p>This is some text in a paragraph with a <span>spanned entry</span> and a <b>bold</b> entry. This is the second sentence in this paragraph</p>
        <p>This is a line that tests some engine peculiarities with regard to multiple words spoken. Tamil Nadu, this is close to the limit, New York and also New York City. The United States are normally spoken as 2 individual words. The Empire State Building should be read as 3 individual words but BBC News will be seen as its own two word entry.</p>
        <p>Other issues arise with em dashes. This is a test for those - one, two, three - testing, testing.</p>
        <p>Finally we need to test some hyphenated words. Red-and-black, one-to-one, 100-acre are all hyphenated. This is my plus-one and here are some plus-fours.</p>
        <p>Hopefully these are all idiot-proof examples that show the TTS engine handler is working :)</p>
        <p>Here are some Heads of State, some united state or some united states, why is the word States such a problem? States, states, STATES. The United States are full of Americans. Donald Trump is a fucking idiot.</p>
        <p>Does it matter if the United States appear further into the sentence? Does it affect the European Union or the United Arab Emirates or even the People's Republic or China?</p>
      </div>
  </body>
</html>
